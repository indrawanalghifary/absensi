(()=>{var e={};e.id=754,e.ids=[754],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},79428:e=>{"use strict";e.exports=require("buffer")},55511:e=>{"use strict";e.exports=require("crypto")},94735:e=>{"use strict";e.exports=require("events")},81630:e=>{"use strict";e.exports=require("http")},55591:e=>{"use strict";e.exports=require("https")},91645:e=>{"use strict";e.exports=require("net")},33873:e=>{"use strict";e.exports=require("path")},11997:e=>{"use strict";e.exports=require("punycode")},27910:e=>{"use strict";e.exports=require("stream")},34631:e=>{"use strict";e.exports=require("tls")},79551:e=>{"use strict";e.exports=require("url")},74075:e=>{"use strict";e.exports=require("zlib")},18980:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>l.a,__next_app__:()=>m,pages:()=>x,routeModule:()=>o,tree:()=>c});var a=t(70260),r=t(28203),i=t(25155),l=t.n(i),n=t(67292),d={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);t.d(s,d);let c=["",{children:["dashboardsiswa",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,50134)),"/home/fahmy/Documents/Project/project web/absensi/app/dashboardsiswa/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,19611)),"/home/fahmy/Documents/Project/project web/absensi/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,61129)),"/home/fahmy/Documents/Project/project web/absensi/app/not-found.tsx"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,41485,23)),"next/dist/client/components/unauthorized-error"]}],x=["/home/fahmy/Documents/Project/project web/absensi/app/dashboardsiswa/page.tsx"],m={require:t,loadChunk:()=>Promise.resolve()},o=new a.AppPageRouteModule({definition:{kind:r.RouteKind.APP_PAGE,page:"/dashboardsiswa/page",pathname:"/dashboardsiswa",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},46263:(e,s,t)=>{Promise.resolve().then(t.bind(t,50134))},50991:(e,s,t)=>{Promise.resolve().then(t.bind(t,36482))},36482:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>x});var a=t(45512),r=t(58009),i=t(87006),l=t(22526),n=t(63412),d=t(28531),c=t.n(d);function x(){let[e,s]=(0,r.useState)([]),[t,d]=(0,r.useState)({totalHadir:0,totalTerlambat:0,totalIzin:0,totalSakit:0,totalAlpha:0,persentaseKehadiran:0}),[x,m]=(0,r.useState)(new Date().toISOString().slice(0,7)),[o,h]=(0,r.useState)(!0),[g,u]=(0,r.useState)(null),{user:p}=(0,i.A)(),j=e=>{let s={hadir:{bg:"bg-green-100",text:"text-green-800",label:"Hadir"},terlambat:{bg:"bg-yellow-100",text:"text-yellow-800",label:"Terlambat"},izin:{bg:"bg-blue-100",text:"text-blue-800",label:"Izin"},sakit:{bg:"bg-orange-100",text:"text-orange-800",label:"Sakit"},alpha:{bg:"bg-red-100",text:"text-red-800",label:"Alpha"}},t=s[e]||s.alpha;return(0,a.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${t.bg} ${t.text}`,children:t.label})},b=e=>{switch(e){case"kamera":return"ri-camera-line";case"manual":return"ri-edit-line";case"izin":return"ri-file-text-line";default:return"ri-question-line"}},N=e=>new Date(e).toLocaleDateString("id-ID",{weekday:"long",year:"numeric",month:"long",day:"numeric"});return(0,a.jsx)(n.A,{children:(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)(l.A,{}),(0,a.jsx)("main",{className:"p-4 lg:p-6",children:(0,a.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h1",{className:"text-2xl lg:text-3xl font-bold text-gray-900 mb-2",children:"Dashboard Siswa"}),(0,a.jsxs)("p",{className:"text-gray-600",children:["Selamat datang, ",p?.user_metadata?.full_name||p?.email?.split("@")[0],"!"]})]}),(0,a.jsx)("div",{className:"mb-6",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Absensi Hari Ini"}),g?(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${"hadir"===g.status?"bg-green-100":"terlambat"===g.status?"bg-yellow-100":"bg-gray-100"}`,children:(0,a.jsx)("i",{className:`${b(g.metode)} text-xl ${"hadir"===g.status?"text-green-600":"terlambat"===g.status?"text-yellow-600":"text-gray-600"}`})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-900",children:N(g.tanggal)}),(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:[g.waktu," â€¢ ",j(g.status)]})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Status"}),(0,a.jsx)("p",{className:"font-semibold text-gray-900 capitalize",children:g.status})]})]}):(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)("i",{className:"ri-calendar-check-line text-4xl text-gray-300 mb-4"}),(0,a.jsx)("p",{className:"text-gray-500 mb-4",children:"Belum absen hari ini"}),(0,a.jsxs)(c(),{href:"/kamera",className:"bg-indigo-600 text-white px-6 py-2 rounded-lg hover:bg-indigo-700 inline-flex items-center",children:[(0,a.jsx)("i",{className:"ri-camera-line mr-2"}),"Absen Sekarang"]})]})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4 mb-6",children:[(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-md p-4",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:(0,a.jsx)("i",{className:"ri-check-line text-green-600"})}),(0,a.jsxs)("div",{className:"ml-3",children:[(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Hadir"}),(0,a.jsx)("p",{className:"text-lg font-semibold text-gray-900",children:t.totalHadir})]})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-md p-4",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-yellow-100 rounded-lg flex items-center justify-center",children:(0,a.jsx)("i",{className:"ri-time-line text-yellow-600"})}),(0,a.jsxs)("div",{className:"ml-3",children:[(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Terlambat"}),(0,a.jsx)("p",{className:"text-lg font-semibold text-gray-900",children:t.totalTerlambat})]})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-md p-4",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,a.jsx)("i",{className:"ri-file-text-line text-blue-600"})}),(0,a.jsxs)("div",{className:"ml-3",children:[(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Izin"}),(0,a.jsx)("p",{className:"text-lg font-semibold text-gray-900",children:t.totalIzin})]})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-md p-4",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center",children:(0,a.jsx)("i",{className:"ri-hospital-line text-orange-600"})}),(0,a.jsxs)("div",{className:"ml-3",children:[(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Sakit"}),(0,a.jsx)("p",{className:"text-lg font-semibold text-gray-900",children:t.totalSakit})]})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-md p-4",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center",children:(0,a.jsx)("i",{className:"ri-close-line text-red-600"})}),(0,a.jsxs)("div",{className:"ml-3",children:[(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Alpha"}),(0,a.jsx)("p",{className:"text-lg font-semibold text-gray-900",children:t.totalAlpha})]})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-md p-4",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-indigo-100 rounded-lg flex items-center justify-center",children:(0,a.jsx)("i",{className:"ri-percent-line text-indigo-600"})}),(0,a.jsxs)("div",{className:"ml-3",children:[(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Kehadiran"}),(0,a.jsxs)("p",{className:"text-lg font-semibold text-gray-900",children:[t.persentaseKehadiran,"%"]})]})]})})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-md",children:[(0,a.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Riwayat Absensi"}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("label",{htmlFor:"month-filter",className:"text-sm text-gray-600",children:"Filter Bulan:"}),(0,a.jsx)("input",{id:"month-filter",type:"month",value:x,onChange:e=>m(e.target.value),className:"border border-gray-300 rounded-md px-3 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500"})]})]})}),(0,a.jsx)("div",{className:"p-6",children:o?(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600 mx-auto"}),(0,a.jsx)("p",{className:"mt-2 text-gray-500",children:"Memuat data..."})]}):e.length>0?(0,a.jsx)("div",{className:"space-y-4",children:e.map(e=>(0,a.jsx)("div",{className:"border border-gray-200 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center",children:(0,a.jsx)("i",{className:`${b(e.metode)} text-gray-600`})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-900",children:N(e.tanggal)}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 mt-1",children:[(0,a.jsx)("span",{className:"text-sm text-gray-500",children:e.waktu}),(0,a.jsx)("span",{className:"text-gray-300",children:"â€¢"}),j(e.status),e.lokasi&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"text-gray-300",children:"â€¢"}),(0,a.jsx)("i",{className:"ri-map-pin-line text-green-600 text-sm",title:"Dengan GPS"})]})]})]})]}),e.keterangan&&(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Keterangan:"}),(0,a.jsx)("p",{className:"text-sm text-gray-700",children:e.keterangan})]})]})},e.id))}):(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)("i",{className:"ri-calendar-line text-4xl text-gray-300 mb-4"}),(0,a.jsx)("p",{className:"text-gray-500",children:"Tidak ada data absensi untuk bulan ini"})]})})]}),(0,a.jsxs)("div",{className:"mt-6 grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,a.jsx)(c(),{href:"/kamera",className:"bg-indigo-600 text-white rounded-lg p-6 hover:bg-indigo-700 transition-colors",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-indigo-500 rounded-lg flex items-center justify-center mr-4",children:(0,a.jsx)("i",{className:"ri-camera-line text-xl"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold",children:"Absen dengan Kamera"}),(0,a.jsx)("p",{className:"text-sm text-indigo-100",children:"Absensi menggunakan foto dan GPS"})]})]})}),(0,a.jsx)("div",{className:"bg-gray-600 text-white rounded-lg p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-gray-500 rounded-lg flex items-center justify-center mr-4",children:(0,a.jsx)("i",{className:"ri-file-text-line text-xl"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold",children:"Ajukan Izin"}),(0,a.jsx)("p",{className:"text-sm text-gray-100",children:"Kirim permohonan izin (Coming Soon)"})]})]})})]})]})})]})})}t(32621)},50134:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});let a=(0,t(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/fahmy/Documents/Project/project web/absensi/app/dashboardsiswa/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/fahmy/Documents/Project/project web/absensi/app/dashboardsiswa/page.tsx","default")}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[388,730,822],()=>t(18980));module.exports=a})();